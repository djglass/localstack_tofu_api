{"version":4,"terraform_version":"1.9.0","serial":14,"lineage":"47746080-b0b7-c661-7ce6-e73ad3a46a77","outputs":{},"resources":[{"mode":"managed","type":"aws_api_gateway_deployment","name":"demo_deployment","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"created_date":"2025-04-19T17:36:29Z","description":"Full redeploy 2025-04-19T17:36:29Z","execution_arn":"arn:aws:execute-api:us-east-1::wxd228w63h/v1","id":"wprqjtuogo","invoke_url":"https://wxd228w63h.execute-api.us-east-1.amazonaws.com/v1","rest_api_id":"wxd228w63h","stage_description":null,"stage_name":"v1","triggers":null,"variables":null},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_api_gateway_integration.lambda_get","aws_api_gateway_integration.lambda_post","aws_api_gateway_method.get_hello","aws_api_gateway_method.post_hello","aws_api_gateway_resource.hello","aws_api_gateway_rest_api.demo_api","aws_lambda_function.demo_lambda","aws_s3_bucket.demo_bucket"]}]},{"mode":"managed","type":"aws_api_gateway_integration","name":"lambda_get","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"cache_key_parameters":null,"cache_namespace":"detmegotqd","connection_id":"","connection_type":"INTERNET","content_handling":"","credentials":"","http_method":"GET","id":"agi-wxd228w63h-detmegotqd-GET","integration_http_method":"POST","passthrough_behavior":"WHEN_NO_MATCH","request_parameters":null,"request_templates":null,"resource_id":"detmegotqd","rest_api_id":"wxd228w63h","timeout_milliseconds":29000,"tls_config":[],"type":"AWS_PROXY","uri":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:000000000000:function:demo-function/invocations"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_api_gateway_method.get_hello","aws_api_gateway_resource.hello","aws_api_gateway_rest_api.demo_api","aws_lambda_function.demo_lambda","aws_s3_bucket.demo_bucket"]}]},{"mode":"managed","type":"aws_api_gateway_integration","name":"lambda_post","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"cache_key_parameters":null,"cache_namespace":"detmegotqd","connection_id":"","connection_type":"INTERNET","content_handling":"","credentials":"","http_method":"POST","id":"agi-wxd228w63h-detmegotqd-POST","integration_http_method":"POST","passthrough_behavior":"WHEN_NO_MATCH","request_parameters":null,"request_templates":null,"resource_id":"detmegotqd","rest_api_id":"wxd228w63h","timeout_milliseconds":29000,"tls_config":[],"type":"AWS_PROXY","uri":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:000000000000:function:demo-function/invocations"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_api_gateway_method.post_hello","aws_api_gateway_resource.hello","aws_api_gateway_rest_api.demo_api","aws_lambda_function.demo_lambda","aws_s3_bucket.demo_bucket"]}]},{"mode":"managed","type":"aws_api_gateway_method","name":"get_hello","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"api_key_required":false,"authorization":"NONE","authorization_scopes":null,"authorizer_id":null,"http_method":"GET","id":"agm-wxd228w63h-detmegotqd-GET","operation_name":null,"request_models":null,"request_parameters":null,"request_validator_id":null,"resource_id":"detmegotqd","rest_api_id":"wxd228w63h"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_api_gateway_resource.hello","aws_api_gateway_rest_api.demo_api"]}]},{"mode":"managed","type":"aws_api_gateway_method","name":"post_hello","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"api_key_required":false,"authorization":"NONE","authorization_scopes":null,"authorizer_id":null,"http_method":"POST","id":"agm-wxd228w63h-detmegotqd-POST","operation_name":null,"request_models":null,"request_parameters":null,"request_validator_id":null,"resource_id":"detmegotqd","rest_api_id":"wxd228w63h"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_api_gateway_resource.hello","aws_api_gateway_rest_api.demo_api"]}]},{"mode":"managed","type":"aws_api_gateway_resource","name":"hello","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"detmegotqd","parent_id":"7z7otne1ww","path":"/hello","path_part":"hello","rest_api_id":"wxd228w63h"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_api_gateway_rest_api.demo_api"]}]},{"mode":"managed","type":"aws_api_gateway_rest_api","name":"demo_api","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"api_key_source":"HEADER","arn":"arn:aws:apigateway:us-east-1::/restapis/wxd228w63h","binary_media_types":[],"body":null,"created_date":"2025-04-19T17:36:24Z","description":"","disable_execute_api_endpoint":false,"endpoint_configuration":[{"types":["EDGE"],"vpc_endpoint_ids":[]}],"execution_arn":"arn:aws:execute-api:us-east-1::wxd228w63h","fail_on_warnings":null,"id":"wxd228w63h","minimum_compression_size":-1,"name":"demo-api","parameters":null,"policy":"","put_rest_api_mode":null,"root_resource_id":"7z7otne1ww","tags":null,"tags_all":{}},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_lambda_function","name":"demo_lambda","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:000000000000:function:demo-function","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":null,"function_name":"demo-function","handler":"lambda_function.lambda_handler","id":"demo-function","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:000000000000:function:demo-function/invocations","kms_key_arn":"","last_modified":"2025-04-19T17:36:24.186787+0000","layers":null,"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:us-east-1:000000000000:function:demo-function:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:000000000000:function:demo-function:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::000000000000:role/lambda-role","runtime":"python3.9","s3_bucket":"my-local-bucket","s3_key":"lambda_function_payload.zip","s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"u/api7aKH/vFHMOWB9mIy1fAKbPZHxKXTSFum63nfAA=","source_code_size":1112188,"tags":null,"tags_all":{},"timeout":3,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19","dependencies":["aws_s3_bucket.demo_bucket"]}]},{"mode":"managed","type":"aws_lambda_permission","name":"api_gateway","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"demo-function","function_url_auth_type":null,"id":"AllowAPIGatewayInvoke","principal":"apigateway.amazonaws.com","principal_org_id":null,"qualifier":"","source_account":null,"source_arn":"arn:aws:execute-api:us-east-1::wxd228w63h/*/*","statement_id":"AllowAPIGatewayInvoke","statement_id_prefix":""},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_api_gateway_rest_api.demo_api","aws_lambda_function.demo_lambda","aws_s3_bucket.demo_bucket"]}]}],"check_results":null}
